(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(39)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),s=n(8),o=n(2),l=n(19),u=n(11),d=Object(o.c)({byID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_TRACKS":var n={};return t.tracks.forEach(function(e){return n[e.id]=e}),n;default:return e}},allIDs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_TRACKS":return Object(u.a)(t.tracks.map(function(e){return e.id}));default:return e}},inPlaylist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRACKS_TO_PLAYLIST":return t.tracks;default:return e}}}),h=Object(o.c)({results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_RESULTS":return Object(u.a)(t.tracks.map(function(e){return e.id}));default:return e}}}),p=Object(o.c)({track:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SELECT_TRACK"===t.type?t.id:e},paused:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_ON_PAUSE"===t.type||"SET_ON_PLAY"!==t.type&&e}}),m=function(e,t){return t&&e.byID[t]?e.byID[t].name:""},v=Object(o.c)({tracks:d,player:p,search:h}),f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,b=Object(o.e)(v,f(Object(o.a)(l.a))),k=(n(29),n(3)),y=n(4),E=n(7),O=n(5),j=n(6),g="https://api.jamendo.com/v3.0/",T=function(e){return{type:"RECEIVE_TRACKS",tracks:e}},C=function(){return function(e,t){var n=t();n.player.track||(console.log(n.search.results[0]),e(w(n.search.results[0]))),e({type:"SET_ON_PLAY"})}},w=function(e){return function(t,n){var a=n();-1!==a.search.results.indexOf(e)&&(t({type:"ADD_TRACKS_TO_PLAYLIST",tracks:a.search.results}),t({type:"SELECT_TRACK",id:e}))}},S=n(1),P=(n(31),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(S.a)(Object(S.a)(n))),n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.track,n=e.selected,a=e.selectTrack,r=e.playTrack,c=e.stopTrack,i=e.paused;t.id!==n?(a(),r()):i?r():c()}},{key:"render",value:function(){var e=this.props,t=e.track,n=e.paused,a=e.id,c=e.selected;return t?r.a.createElement("div",{className:"track ".concat(c===a?"active":"")},r.a.createElement("div",{className:"track-title",title:t.name},t.name),r.a.createElement("div",{className:"track-play-btn-wrapper"},r.a.createElement("button",{className:"track-play-btn",onClick:this.handleClick},r.a.createElement("div",{className:"track-".concat(n?"play":"pause","-icon")})))):null}}]),t}(a.Component)),_=function(e,t,n){return t!==n||e},R=Object(s.b)(function(e,t){var n=t.id;return{track:e.tracks.byID[n],selected:e.player.track,paused:_(e.player.paused,e.player.track,n)}},function(e,t){var n=t.id;return{selectTrack:function(){e(w(n))},playTrack:function(){return e(C())},stopTrack:function(){e({type:"SET_ON_PAUSE"})}}})(P),M=function(e){function t(){return Object(k.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTracks()}},{key:"render",value:function(){var e=this.props.tracks;return r.a.createElement("div",null,e.map(function(e){return r.a.createElement(R,{key:e,id:e})}))}}]),t}(a.Component),N=Object(s.b)(function(e){return{tracks:e.search.results}},function(e){return{fetchTracks:function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n="";if("object"===typeof e)for(var a in e.client_id="e996f43b",e.limit=e.limit||10,e.order=e.order||"popularity_total",e)n+="".concat(a,"=").concat(e[a],"&");else n=e;var r="".concat(g,"tracks/?").concat(n);fetch(r).then(function(e){return e.json()}).then(function(e){t({type:"UPDATE_RESULTS",tracks:e.results}),t(T(e.results))})}}())}}})(M),D=(n(33),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={progress:0,captured:!1},n.handleMouseDown=n.handleMouseDown.bind(Object(S.a)(Object(S.a)(n))),n.handleMouseUp=n.handleMouseUp.bind(Object(S.a)(Object(S.a)(n))),n.handleMouseMove=n.handleMouseMove.bind(Object(S.a)(Object(S.a)(n))),n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"handleMouseDown",value:function(e){this.clientRect=e.currentTarget.getBoundingClientRect();var t=this.clientRect.width/100,n=(e.clientX-this.clientRect.left)/t;window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),this.props.onCaptured(),this.props.onTimeProgressChange(n),this.setState({captured:!0})}},{key:"handleMouseUp",value:function(e){var t=this.clientRect.width/100,n=(e.clientX-this.clientRect.left)/t;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.props.onTimeChange(n),this.setState({captured:!1})}},{key:"handleMouseMove",value:function(e){var t=this.clientRect.width/100,n=(e.clientX-this.clientRect.left)/t;n>100?n=100:n<0&&(n=0),this.props.onTimeProgressChange(n)}},{key:"handleClick",value:function(e){e.currentTarget.getBoundingClientRect()}},{key:"render",value:function(){var e=this.props.timeProgress,t={width:e+"%"},n={opacity:this.state.captured?"1":"",left:e+"%"};return r.a.createElement("div",{className:"progress-slider",onEnter:this.handleEnter,onClick:this.handleClick,onMouseDown:this.handleMouseDown},r.a.createElement("div",{className:"progress-slider_line"},r.a.createElement("div",{className:"progress-slider_filler",style:t}),r.a.createElement("div",{style:n,className:"progress-slider_handler"})))}}]),t}(a.Component)),U=(n(35),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={timeProgress:0,currentTime:"00:00",duration:"00:00"},n.audioRef=r.a.createRef(),n.handleBtnPlayClick=n.handleBtnPlayClick.bind(Object(S.a)(Object(S.a)(n))),n.handleEnded=n.handleEnded.bind(Object(S.a)(Object(S.a)(n))),n.handleTimeUpdate=n.handleTimeUpdate.bind(Object(S.a)(Object(S.a)(n))),n.handleMetaData=n.handleMetaData.bind(Object(S.a)(Object(S.a)(n))),n.handleTimeChange=n.handleTimeChange.bind(Object(S.a)(Object(S.a)(n))),n.handleCapturedSlider=n.handleCapturedSlider.bind(Object(S.a)(Object(S.a)(n))),n.handleTimeProgressUpdate=n.handleTimeProgressUpdate.bind(Object(S.a)(Object(S.a)(n))),n.handleTimeProgressChange=n.handleTimeProgressChange.bind(Object(S.a)(Object(S.a)(n))),n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"handleBtnPlayClick",value:function(){this.props.paused?this.props.play():this.props.pause()}},{key:"handleEnded",value:function(){this.props.next()}},{key:"componentDidUpdate",value:function(){this.props.paused?this.audioRef.current.pause():this.audioRef.current.play()}},{key:"handleTimeUpdate",value:function(){var e=this.audioRef.current,t=Math.round(e.currentTime),n=parseInt(t/60),a=t%60;n<10&&(n="0".concat(n)),a<10&&(a="0".concat(a)),t="".concat(n,":").concat(a),this.setState({currentTime:t})}},{key:"handleMetaData",value:function(){var e=this.audioRef.current,t=Math.round(e.duration),n=parseInt(t/60),a=t%60;n<10&&(n="0".concat(n)),a<10&&(a="0".concat(a)),t="".concat(n,":").concat(a),this.setState({duration:t})}},{key:"handleTimeChange",value:function(e){var t=this.audioRef.current;t.currentTime=t.duration/100*e,t.addEventListener("timeupdate",this.handleTimeProgressUpdate)}},{key:"handleCapturedSlider",value:function(){this.audioRef.current.removeEventListener("timeupdate",this.handleTimeProgressUpdate)}},{key:"handleTimeProgressUpdate",value:function(e){this.handleTimeProgressChange()}},{key:"handleTimeProgressChange",value:function(e){var t=this.audioRef.current;if(void 0==e){var n=t.duration/100,a=t.currentTime/n;this.setState({timeProgress:a})}else this.setState({timeProgress:e})}},{key:"componentDidMount",value:function(){this.audioRef.current.addEventListener("timeupdate",this.handleTimeProgressUpdate)}},{key:"render",value:function(){var e=this.props,t=e.paused,n=e.next,a=e.prev,c=e.name,i=this.state,s=i.duration,o=i.currentTime;return r.a.createElement("div",{className:"player"},r.a.createElement("audio",{onEnded:this.handleEnded,ref:this.audioRef,src:this.props.src,onLoadedMetadata:this.handleMetaData,onTimeUpdate:this.handleTimeUpdate}),r.a.createElement("div",{className:"control-btn-wrapper"},r.a.createElement("button",{className:"control-btn",onClick:a},r.a.createElement("div",{className:"player-prev-icon"})),r.a.createElement("button",{className:"control-btn",onClick:this.handleBtnPlayClick},r.a.createElement("div",{className:"player-".concat(t?"play":"pause","-icon")})),r.a.createElement("button",{className:"control-btn",onClick:n},r.a.createElement("div",{className:"player-next-icon"}))),r.a.createElement("div",{className:"track-info-wrapper"},r.a.createElement("div",{style:{textOverflow:"ellipsis"},title:c,className:"track-info-name"},c),r.a.createElement("div",{className:"track-info-duration"},o," / ",s)),r.a.createElement(D,{onCaptured:this.handleCapturedSlider,onTimeProgressChange:this.handleTimeProgressChange,timeProgress:this.state.timeProgress,onTimeChange:this.handleTimeChange}))}}]),t}(a.Component)),A=Object(s.b)(function(e){return{src:(t=e.tracks,n=e.player.track,n&&t.byID[n]?t.byID[n].audio:""),name:m(e.tracks,e.player.track),paused:e.player.paused};var t,n},function(e){return{play:function(){e(C())},pause:function(){e({type:"SET_ON_PAUSE"})},next:function(){e(function(e,t){var n=t(),a=n.tracks.inPlaylist,r=a.indexOf(n.player.track);e({type:"SELECT_TRACK",id:a[r<a.length-1?r+1:0]})})},prev:function(){e(function(e,t){var n=t(),a=n.tracks.inPlaylist,r=a.indexOf(n.player.track);e({type:"SELECT_TRACK",id:a[r>0?r-1:a.length-1]})})}}})(U),L=(n(37),function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={value:""},n.handleChange=n.handleChange.bind(Object(S.a)(Object(S.a)(n))),n.handleClick=n.handleClick.bind(Object(S.a)(Object(S.a)(n))),n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"handleChange",value:function(e){var t=e.target;this.setState({value:t.value})}},{key:"handleClick",value:function(){this.props.searchFor(this.state.value)}},{key:"render",value:function(){var e=this.state.value;return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"search-input",onChange:this.handleChange,value:e}),r.a.createElement("button",{className:"search-btn",onClick:this.handleClick},"Search"))}}]),t}(a.Component)),I=Object(s.b)(null,function(e){return{searchFor:function(t){e(function(e){return function(t,n){var a=n(),r="client_id=".concat("e996f43b","&limit=10&namesearch=").concat(e),c="".concat(g,"tracks/?").concat(r);fetch(c).then(function(e){return e.json()}).then(function(e){var n=a.tracks.inPlaylist.map(function(e){return a.tracks.byID[e]}).concat(e.results);t({type:"UPDATE_RESULTS",tracks:e.results}),t(T(n))})}}(t))}}})(L),x={display:"flex",justifyContent:"center",marginTop:"30px"},K={textAlign:"center",color:"#90bfb3"},B=function(e){function t(){return Object(k.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:x},r.a.createElement("div",{style:{width:"250px"}},r.a.createElement("h2",{style:K},"Find Your Music!"),r.a.createElement(I,null),r.a.createElement(N,null),r.a.createElement(A,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(s.a,{store:b},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.6b1218a0.chunk.js.map